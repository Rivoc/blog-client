{"version":3,"sources":["webpack:///src/components/Header.vue","webpack:///./src/components/Header.vue?e107","webpack:///./src/components/Header.vue","webpack:///./src/components/Footer.vue?ccc2","webpack:///./src/components/Footer.vue","webpack:///src/App.vue","webpack:///src/components/Footer.vue","webpack:///./src/App.vue?7e70","webpack:///./src/App.vue","webpack:///./src/helper/auth.js","webpack:///./src/store/modules/auth.js","webpack:///./src/store/modules/blog.js","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/helper/request.js"],"names":["Header","name","computed","extends_default","Object","vuex_esm","created","this","checkLogin","methods","onLogout","_this","logout","then","$message","success","$router","push","path","components_Header","render","_vm","_h","$createElement","_c","_self","class","no-login","isLogin","login","_e","attrs","tag","to","_v","staticClass","src","user","avatar","alt","slot","nativeOn","click","$event","staticRenderFns","components_Footer","App","components","__webpack_require__","normalizeComponent","ssrContext","Footer","Footer_normalizeComponent","data","loading","mounted","bus","$on","val","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","URL","auth","_ref","username","password","request","_ref2","modules_auth","state","getters","mutations","setUser","payload","setLogin","actions","commit","res","register","_ref3","_ref4","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","abrupt","stop","_ref5","_this2","_callee2","_context2","_ref6","_this3","_callee3","_context3","blog","Vue","use","Vuex","store","Store","modules","Router","router","routes","component","Promise","all","e","bind","meta","requiresAuth","beforeEach","from","matched","some","record","dispatch","Message","error","query","redirect","fullPath","config","productionTip","ElementUI","prototype","el","template","h","filter","str","date","Date","time","getTime","parseInt","getFullYear","getMonth","getDate","url","type","arguments","length","undefined","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","options","method","toLowerCase","params","console","log","axios","status","msg","catch","err","defaults","headers","post","baseURL","withCredentials"],"mappings":"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","file":"static/js/app.e94e5d68ad9102482be5.js","sourcesContent":["<template>\r\n  <div :class=\"{'no-login':!isLogin,'login':isLogin}\">\r\n    <template v-if=\"!isLogin\">\r\n      <router-link tag=\"h1\"\r\n                   to=\"/\">LET'S SHARE</router-link>\r\n      <P>精品博客汇聚</P>\r\n      <div>\r\n        <router-link to=\"/login\">\r\n          <el-button>立即登录</el-button>\r\n        </router-link>\r\n        <router-link to=\"Register\">\r\n          <el-button>注册账号</el-button>\r\n        </router-link>\r\n      </div>\r\n      <div class=\"border\"></div>\r\n    </template>\r\n    <template v-if=\"isLogin\">\r\n      <router-link to=\"/\"\r\n                   tag=\"h1\"\r\n                   class=\"tit-islogin\">LET'S SHARE\r\n      </router-link>\r\n      <!-- 创建文章 -->\r\n      <router-link to=\"/create\"\r\n                   tag=\"i\"\r\n                   class=\"el-icon-plus\">\r\n      </router-link>\r\n      <div class=\"avatar\">\r\n        <img :src=\"user.avatar\"\r\n             alt=\"\"\r\n             class=\"author-avatar\">\r\n      </div>\r\n      <el-dropdown>\r\n        <span class=\"el-dropdown-link\">\r\n          <i class=\"el-icon-arrow-down\"></i>\r\n        </span>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <router-link to=\"/my\">\r\n            <el-dropdown-item>我的</el-dropdown-item>\r\n          </router-link>\r\n          <el-dropdown-item @click.native=\"onLogout\">注销</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </template>\r\n\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nexport default {\r\n  name: 'Header',\r\n  computed: {\r\n    ...mapGetters(['isLogin', 'user'])\r\n  },\r\n  created () {\r\n    this.checkLogin()\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\r\n      'checkLogin',\r\n      'logout'\r\n    ]),\r\n    onLogout () {\r\n      this.logout().then(() => {\r\n        this.$message.success('注销成功')\r\n        this.$router.push({ path: '/' })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\n@import '~@/assets/styles/variable.styl';\r\n\r\n.tit-islogin {\r\n  cursor: pointer;\r\n}\r\n\r\n.el-icon-plus {\r\n  cursor: pointer;\r\n}\r\n\r\n.el-dropdown-link {\r\n  cursor: pointer;\r\n  grid-column: 4;\r\n  grid-row: 1;\r\n}\r\n\r\n.el-icon-arrow-down {\r\n  font-size: 20px;\r\n  height: 2px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  margin-top: 40px;\r\n}\r\n\r\n.no-login {\r\n  position: relative;\r\n  padding-top: 3%;\r\n  padding-bottom: 2%;\r\n  display: grid;\r\n  color: #fff;\r\n  text-align: center;\r\n  background: $themeColor url('../assets/bg.png') 0 0;\r\n  background-size: cover;\r\n\r\n  h1 {\r\n    margin: 0 auto;\r\n    font-family: Monaco, Consolas, monospace;\r\n    font-weight: bold;\r\n    font-size: 300%;\r\n    // border-right: 5px solid;\r\n    width: 11ch;\r\n    grid-column: 1 / 2;\r\n    align-self: center;\r\n    align-items: center;\r\n    width: px;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    transiton: all 1.5s ease-out;\r\n    animation: typing 1s steps(11, end);\r\n    cursor: pointer;\r\n    // blink-caret 0.5s step-end infinite alternate;\r\n  }\r\n\r\n  p {\r\n    margin: 10px 0;\r\n  }\r\n\r\n  .el-button {\r\n    margin-top: 20px;\r\n    margin-right: 20px;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    padding: 0 8px;\r\n    border-radius: 4px;\r\n    font-size: 13px;\r\n  }\r\n\r\n  .border {\r\n    position: absolute;\r\n    width: 100%;\r\n    left: 0;\r\n    bottom: 0;\r\n    height: 7px;\r\n    background: transparent url('../assets/border.png');\r\n    background-size: 14px 7px;\r\n  }\r\n}\r\n\r\n.login {\r\n  height: 80px;\r\n  position: relative;\r\n  display: grid;\r\n  grid-template-rows: auto;\r\n  grid-template-columns: 1fr 40px 60px 30px;\r\n  color: #fff;\r\n  background: $themeColor url('../assets/bg.png') 0 0;\r\n  background-size: cover;\r\n  transiton: all 0.5s ease-out;\r\n  animation: slideInDown 0.5s;\r\n\r\n  h1 {\r\n    align-self: center;\r\n    grid-column: 1 / 2;\r\n    font-family: Monaco, Consolas, monospace;\r\n    font-weight: bold;\r\n    font-size: 300%;\r\n  }\r\n\r\n  .el-icon-plus {\r\n    align-self: center;\r\n    justify-self: center;\r\n    grid-row: 1;\r\n    grid-column: 2 / 3;\r\n    font-size: 30px;\r\n  }\r\n\r\n  .avatar {\r\n    align-self: center;\r\n    justify-self: center;\r\n    grid-row: 1;\r\n    grid-column: 3;\r\n    display: grid;\r\n\r\n    .author-avatar {\r\n      width: 50px;\r\n      border-radius: 50%;\r\n      justify-self: center;\r\n    }\r\n  }\r\n}\r\n\r\n@media screen and (max-device-width: 800px) {\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'no-login':!_vm.isLogin,'login':_vm.isLogin}},[(!_vm.isLogin)?[_c('router-link',{attrs:{\"tag\":\"h1\",\"to\":\"/\"}},[_vm._v(\"LET'S SHARE\")]),_vm._v(\" \"),_c('P',[_vm._v(\"精品博客汇聚\")]),_vm._v(\" \"),_c('div',[_c('router-link',{attrs:{\"to\":\"/login\"}},[_c('el-button',[_vm._v(\"立即登录\")])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"Register\"}},[_c('el-button',[_vm._v(\"注册账号\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"border\"})]:_vm._e(),_vm._v(\" \"),(_vm.isLogin)?[_c('router-link',{staticClass:\"tit-islogin\",attrs:{\"to\":\"/\",\"tag\":\"h1\"}},[_vm._v(\"LET'S SHARE\\n    \")]),_vm._v(\" \"),_c('router-link',{staticClass:\"el-icon-plus\",attrs:{\"to\":\"/create\",\"tag\":\"i\"}}),_vm._v(\" \"),_c('div',{staticClass:\"avatar\"},[_c('img',{staticClass:\"author-avatar\",attrs:{\"src\":_vm.user.avatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('el-dropdown',[_c('span',{staticClass:\"el-dropdown-link\"},[_c('i',{staticClass:\"el-icon-arrow-down\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('router-link',{attrs:{\"to\":\"/my\"}},[_c('el-dropdown-item',[_vm._v(\"我的\")])],1),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.onLogout($event)}}},[_vm._v(\"注销\")])],1)],1)]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ce5a34ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ce5a34ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ce5a34ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ce5a34ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Header.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  ©xxx.com 2019 wechat:asdffgh\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-112167d0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Footer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-112167d0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Footer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Footer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Footer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-112167d0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Footer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-112167d0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Footer.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Header id=\"header\"></Header>\n    <div class=\"mask\"\n         v-if=\"loading\"><i class=\"el-icon-loading\"></i> </div>\n    <div id=\"main\">\n      <router-view />\n    </div>\n    <Footer id=\"footer\"></Footer>\n  </div>\n</template>\n\n<script>\n\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nexport default {\n  name: 'App',\n  components: {\n    Header,\n    Footer\n  },\n  data () {\n    return {\n      loading: false\n    }\n  },\n  mounted () {\n    var _this = this\n    this.bus.$on('changeLoading', function (val) { // 注意先把this保存起来！\n      _this.loading = val\n    })\n  }\n\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.mask {\n  grid-row: 2;\n  grid-column: 2;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n\n.el-icon-loading {\n  color: #00afc4;\n  font-size: 36px;\n}\n\n.mask::after {\n  content: '拼命加载中';\n  color: #999;\n}\n\n#app {\n  display: grid;\n  grid-template-columns: 12% auto 12%;\n  grid-template-rows: auto 1fr auto;\n  grid-template-areas: 'header header header' '. main .' 'footer footer footer';\n  height: 100%;\n\n  #header {\n    padding-left: 12%;\n    padding-right: 12%;\n    grid-area: header;\n  }\n\n  #main {\n    grid-area: main;\n  }\n\n  #footer {\n    grid-area: footer;\n    background-color: #d7d7d7;\n    padding: 1% 12%;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\r\n  <div>\r\n    ©xxx.com 2019 wechat:asdffgh\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'Footer'\r\n}\r\n</script>\r\n<style lang=\"stylus\" scoped>\r\ndiv {\r\n  text-align: center;\r\n  font-size: 13px;\r\n  color: #666;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Footer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Header',{attrs:{\"id\":\"header\"}}),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"mask\"},[_c('i',{staticClass:\"el-icon-loading\"})]):_vm._e(),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"main\"}},[_c('router-view')],1),_vm._v(\" \"),_c('Footer',{attrs:{\"id\":\"footer\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3179cc04\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3179cc04\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3179cc04\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3179cc04\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// 对跟认证(auth)api相关的接口路径进行封装\r\nimport request from './request.js'\r\nconst URL = {\r\n  register: '/auth/register',\r\n  login: '/auth/login',\r\n  logout: '/auth/logout',\r\n  // 判断用户是否登录\r\n  get_info: '/auth'\r\n}\r\nexport default {\r\n  // 导出一组函数，函数传入api要求的参数字段后，返回封装好的request方法的执行结果，即Promise对象\r\n  register ({ username, password }) {\r\n    return request(URL.register, 'POST', { username, password })\r\n  },\r\n  login ({ username, password }) {\r\n    return request(URL.login, 'POST', { username, password })\r\n  },\r\n  logout () {\r\n    return request(URL.logout)\r\n  },\r\n  getInfo () {\r\n    return request(URL.get_info)\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helper/auth.js","import auth from '../../helper/auth'\r\nconst state = {\r\n  user: null, // 登陆后用户个人相关信息\r\n  isLogin: false\r\n}\r\n\r\nconst getters = {\r\n  user: state => state.user,\r\n  isLogin: state => state.isLogin\r\n}\r\n// payload可以理解为有效数据\r\nconst mutations = {\r\n  setUser (state, payload) {\r\n    state.user = payload.user\r\n  },\r\n\r\n  setLogin (state, payload) {\r\n    state.isLogin = payload.isLogin\r\n  }\r\n}\r\n// 定义actions的方法\r\nconst actions = {\r\n  login ({ commit }, { username, password }) {\r\n    return auth.login({ username, password })\r\n      .then(res => {\r\n        commit('setUser', { user: res.data })\r\n        commit('setLogin', { isLogin: true })\r\n      })\r\n  },\r\n\r\n  async register ({ commit }, { username, password }) {\r\n    let res = await auth.register({ username, password })\r\n    commit('setUser', { user: res.data })\r\n    commit('setLogin', { isLogin: true })\r\n    return res.data\r\n  },\r\n  // 注销就将个人信息清空\r\n  async logout ({ commit }) {\r\n    await auth.logout()\r\n    commit('setUser', { user: null })\r\n    commit('setLogin', { isLogin: false })\r\n  },\r\n\r\n  async checkLogin ({ commit, state }) {\r\n    if (state.isLogin) return true\r\n    let res = await auth.getInfo()\r\n    commit('setLogin', { isLogin: res.isLogin })\r\n    if (!res.isLogin) return false\r\n    commit('setUser', { user: res.data })\r\n    return true\r\n  }\r\n\r\n  /*\r\n    this.logout().then(isLogin=>{\r\n\r\n    })\r\n\r\n  */\r\n}\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/auth.js","const state = {}\r\nconst getters = {}\r\nconst mutations = {}\r\nconst actions = {}\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/blog.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport auth from './modules/auth'\r\nimport blog from './modules/blog'\r\nVue.use(Vuex)\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    blog,\r\n    auth\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport store from '../store'\nimport { Message } from 'element-ui'\n// import Home from '../pages/home/Home'\n// import Detail from '../pages/detail/Detail'\n// import Login from '../pages/login/Login'\n// import Register from '../pages/register/Register'\n\nVue.use(Router)\n// 组件懒加载\nconst router = new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: () => import('../pages/home/Home')\n    },\n    {\n      path: '/detail/:blogId',\n      name: 'Detail',\n      component: () => import('../pages/detail/Detail')\n    },\n    {\n      path: '/login',\n      name: 'Login',\n      component: () => import('../pages/login/Login')\n    },\n    {\n      path: '/register',\n      name: 'Register',\n      component: () => import('../pages/register/Register')\n    },\n    {\n      path: '/my',\n      name: 'My',\n      component: () => import('../pages/my/My'),\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/create',\n      name: 'Create',\n      component: () => import('../pages/create/Create'),\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/user/:userId',\n      name: 'User',\n      component: () => import('../pages/user/User')\n    },\n    {\n      path: '/user/:blogId',\n      name: 'Edit',\n      component: () => import('../pages/edit/Edit'),\n      meta: { requiresAuth: true }\n    }\n\n  ]\n})\nrouter.beforeEach((to, from, next) => {\n  // 如果跳转到的页面需要权限，就检查是否登录，没有登录就跳转到登录页面\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    store.dispatch('checkLogin').then(isLogin => {\n      if (!isLogin) {\n        Message.error('请先登录哦')\n        next({\n          path: '/login',\n          query: { redirect: to.fullPath }// 把要跳转的地址作为参数传到下一步\n        })\n      } else {\n        next()\n      }\n    })\n  } else {\n    next() // 确保一定要调用 next()\n  }\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport '@/assets/styles/reset.css'\nimport '@/assets/styles/animate.css'\nimport store from '@/store'\n\nVue.config.productionTip = false\nVue.use(ElementUI)\nVue.prototype.bus = new Vue()\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>',\n  render: h => h(App)\n})\n// 格式化最后回复的时间\nVue.filter('formatDate', function (str) {\n  if (!str) return ''\n  var date = new Date(str)\n  var time = new Date().getTime() - date.getTime() // 现在的时间-传入的时间 = 相差的时间（单位 = 毫秒）\n  if (time < 0) {\n    return ''\n  } else if ((time / 1000 < 30)) {\n    return '刚刚'\n  } else if (time / 1000 < 60) {\n    return parseInt((time / 1000)) + '秒前'\n  } else if ((time / 60000) < 60) {\n    return parseInt((time / 60000)) + '分钟前'\n  } else if ((time / 3600000) < 24) {\n    return parseInt(time / 3600000) + '小时前'\n  } else if ((time / 86400000) < 31) {\n    return parseInt(time / 86400000) + '天前'\n  } else if ((time / 2592000000) < 12) {\n    return parseInt(time / 2592000000) + '月前'\n  } else {\n    return parseInt(time / 31536000000) + '年前'\n  }\n})\nVue.filter('getYear', function (str) {\n  if (!str) return ''\n  var date = new Date(str)\n  return date.getFullYear()\n})\nVue.filter('getMonth', function (str) {\n  if (!str) return ''\n  var date = new Date(str)\n  return date.getMonth() + 1 + '月'\n})\nVue.filter('format2', function (str) {\n  if (!str) return ''\n  var date = new Date(str)\n  var year = date.getFullYear()\n  var month = date.getMonth() + 1\n  var day = date.getDate()\n  return year + '/' + month + '/' + day\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// 封装axios\r\nimport axios from 'axios'\r\nimport { Message } from 'element-ui'\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'\r\naxios.defaults.baseURL = 'http://blog-server.hunger-valley.com'\r\n// 设置请求携带cookie\r\naxios.defaults.withCredentials = true\r\n// 导出一个函数,这个函数返回一个Promise对象\r\n// 不传参默认为get请求，不带参数\r\nexport default function request (url, type = 'get', data = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    // axios以配置的形式发起请求,根据请求方法设置不同的配置参数\r\n    let options = {\r\n      url,\r\n      method: type\r\n    }\r\n    if (type.toLowerCase() === 'get') {\r\n      options.params = data\r\n    } else {\r\n      options.data = data\r\n    }\r\n    console.log(options)\r\n    axios(options).then((res) => {\r\n      if (res.data.status === 'ok') {\r\n        resolve(res.data)\r\n      } else {\r\n        Message.error(res.data.msg)\r\n        reject(res.data)\r\n      }\r\n    }).catch((err) => {\r\n      Message.error('网络异常' + err)\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helper/request.js"],"sourceRoot":""}